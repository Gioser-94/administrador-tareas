<!--
@if(tareasFiltradas().length > 0){
    <div class="tabla-container">
        <table>
            <thead>
                <tr>
                    <th>Tarea</th>
                    <th>Prioridad</th>
                    <th>Fecha creación</th>
                    <th>Fecha límite</th>
                    <th>Tiempo restante</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                @for(tarea of tareasFiltradas(); track tarea.id){
                <tr [ngClass]="[prioridadAClase[tarea.prioridad], tarea.estaCompletada ? 'completada' : '']">
                    <td>{{tarea.texto}}</td>
                    <td>{{tarea.prioridad}}</td>
                    <td>{{tarea.fechaCreacion | date:'dd/MM/yyyy HH:mm'}}</td>
                    <td>{{tarea.fechaLimite | date:'dd/MM/yyyy HH:mm'}}</td>
                    <td app-tiempo-restante [fechaLimite]="tarea.fechaLimite" [estaCompletada]="tarea.estaCompletada"></td>
                    <td class="botones">
                        <button class="btn-completar" [ngClass]="tarea.estaCompletada ? 'btn-disabled' : '' " (click)="completarTarea(tarea)">Completar</button>
                        <button class="btn-borrar" (click)="borrarTarea(tarea.id)">Borrar</button>
                    </td>
                </tr>
                }
            </tbody>
        </table>
    </div>
    <p class="mensaje-tareas">Tareas pendientes: {{ tareasPendientes() }}</p>
    <p class="mensaje-tareas">Tareas completadas: {{ tareasCompletadas() }}</p>
} @else {
    <p class="mensaje-tareas">No hay tareas</p>
}
-->
<div class="contenedor-columnas">
    @for(columna of columnas(); track columna.id){
        <div class="columna">
            <div class="columna-titulo">
                <h3>{{columna.titulo}}</h3>
            </div>
            <div class="contenedor-tareas">
                @for(tarea of tareaService.getTareasPorColumna(columna.id)(); track tarea.id){
                    <div class="tarea">
                        <div class="tarea-header" [ngClass]="prioridadAClase[tarea.prioridad]">
                            <div class="tarea-titulo">
                                {{tarea.texto}}
                            </div>
                            <div class="tarea-prioridad">
                                {{tarea.prioridad}}
                            </div>
                        </div>
                        <div class="tarea-body">
                            {{tarea.fechaCreacion | date:'dd/MM/yyyy HH:mm'}}
                            {{tarea.fechaLimite | date:'dd/MM/yyyy HH:mm'}}
                            <!--<div app-tiempo-restante [fechaLimite]="tarea.fechaLimite" [estaCompletada]="tarea.estaCompletada"></div>-->
                        </div>
                        <div class="tarea-footer">
                            <div class="botones">
                                <button>Editar</button>
                                <button class="btn-borrar" (click)="borrarTarea(tarea.id)">Eliminar</button>
                                <button>Mover</button>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    }
</div>